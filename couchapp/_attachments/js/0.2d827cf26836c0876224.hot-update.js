webpackHotUpdate(0,{

/***/ 3:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactRedux = __webpack_require__(4);\n\nvar _moment = __webpack_require__(28);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _reactSelect = __webpack_require__(135);\n\nvar _reactSelect2 = _interopRequireDefault(_reactSelect);\n\nvar _jquery = __webpack_require__(147);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Dash = function (_React$Component) {\n  _inherits(Dash, _React$Component);\n\n  function Dash(props) {\n    _classCallCheck(this, Dash);\n\n    var _this = _possibleConstructorReturn(this, (Dash.__proto__ || Object.getPrototypeOf(Dash)).call(this, props));\n\n    console.log(props);\n    return _this;\n  }\n\n  _createClass(Dash, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // here load data\n      // no, not here\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(Day, null);\n    }\n  }]);\n\n  return Dash;\n}(React.Component);\n\nexports.default = Dash;\n\nvar DayClass = function (_React$Component2) {\n  _inherits(DayClass, _React$Component2);\n\n  function DayClass(props) {\n    _classCallCheck(this, DayClass);\n\n    return _possibleConstructorReturn(this, (DayClass.__proto__ || Object.getPrototypeOf(DayClass)).call(this, props));\n  }\n\n  _createClass(DayClass, [{\n    key: 'render',\n    value: function render() {\n      var daystart = (0, _moment2.default)(this.props.day).add(this.props.start, 'hours');\n      var dayend = (0, _moment2.default)(this.props.day).add(this.props.end, 'hours');\n      return React.createElement(\n        'section',\n        { className: 'beds' },\n        this.props.beds.map(function (bed) {\n          return React.createElement(Bed, { bed: bed, daystart: daystart, dayend: dayend });\n        }),\n        React.createElement(TimeSeries, { duration: _moment2.default.duration(10, 'minutes'), daystart: daystart, dayend: dayend })\n      );\n    }\n  }]);\n\n  return DayClass;\n}(React.Component);\n\nvar Day = (0, _reactRedux.connect)(function (state) {\n  return {};\n})(DayClass);\n\nfunction TimeSeries(props) {\n  var periods = props.dayend.diff(props.daystart) / props.duration;\n  var current = (0, _moment2.default)(props.daystart);\n  var out = [];\n  while (current.isBefore(props.dayend)) {\n    out.push(React.createElement(\n      'li',\n      null,\n      current.format('HH:mm')\n    ));\n    current.add(props.duration);\n  }\n  return React.createElement(\n    'section',\n    { className: 'times' },\n    React.createElement(\n      'header',\n      null,\n      'times'\n    ),\n    React.createElement(\n      'ul',\n      { className: 'list' },\n      out\n    )\n  );\n}\n\nvar Bed = function (_React$Component3) {\n  _inherits(Bed, _React$Component3);\n\n  function Bed(props) {\n    _classCallCheck(this, Bed);\n\n    var _this3 = _possibleConstructorReturn(this, (Bed.__proto__ || Object.getPrototypeOf(Bed)).call(this, props));\n\n    _this3.state = {\n      visits: [],\n      visit: {}\n    };\n    return _this3;\n  }\n\n  _createClass(Bed, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      load_bed_data(this.props.bed.id);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return shallowCompare(this, nextProps, nextState);\n    }\n  }, {\n    key: 'addVisit',\n    value: function addVisit(e) {\n      var clicktime = parseInt((0, _moment2.default)(this.props.dayend).diff(this.props.daystart) * e.clientY / e.target.clientHeight);\n      this.setState({\n        visit: {\n          start: (0, _moment2.default)(this.props.daystart).add(clicktime),\n          bed: this.props.bed.id\n        }\n      });\n    }\n  }, {\n    key: 'hide_modal',\n    value: function hide_modal() {\n      this.setState({ visit: {} });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\n        'section',\n        { className: 'bed' },\n        React.createElement(\n          'header',\n          null,\n          React.createElement(\n            'h3',\n            null,\n            'Кроватка №' + this.props.bed.id\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'list', onClick: this.addVisit.bind(this) },\n          this.state.visits.map(function (visit) {\n            return React.createElement(Period, _extends({ start: (0, _moment2.default)(new Date(visit.visit.start)), end: (0, _moment2.default)(new Date(visit.visit.end)), visit: visit }, _this4.props));\n          })\n        ),\n        React.createElement(VisitModal, { visit: this.state.visit, hide: this.hide_modal.bind(this) })\n      );\n    }\n  }]);\n\n  return Bed;\n}(React.Component);\n\nvar VisitModal = function (_React$Component4) {\n  _inherits(VisitModal, _React$Component4);\n\n  function VisitModal(props) {\n    _classCallCheck(this, VisitModal);\n\n    var _this5 = _possibleConstructorReturn(this, (VisitModal.__proto__ || Object.getPrototypeOf(VisitModal)).call(this, props));\n\n    _this5.state = {\n      clients: [],\n      start: (0, _moment2.default)(),\n      client: {}\n    };\n    return _this5;\n  }\n\n  _createClass(VisitModal, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextprops) {\n      this.setState({\n        start: (0, _moment2.default)(nextprops.visit.start)\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this6 = this;\n\n      _jquery2.default.getJSON('/krovati/_design/krovati-couch/_list/clients_json/clients').then(function (clients) {\n        return _this6.setState({ clients: clients });\n      });\n    }\n  }, {\n    key: 'change_visit_minute',\n    value: function change_visit_minute(evt) {\n      // here check the time table\n      this.setState({\n        start: (0, _moment2.default)(this.state.start).minute(evt.target.value)\n      });\n    }\n  }, {\n    key: 'change_visit_hour',\n    value: function change_visit_hour(evt) {\n      // here check the time table\n      this.setState({\n        start: (0, _moment2.default)(this.state.start).hour(evt.target.value)\n      });\n    }\n  }, {\n    key: 'select_client',\n    value: function select_client(client) {\n      this.setState({ client: client });\n    }\n  }, {\n    key: 'set_note',\n    value: function set_note(e) {\n      this.setState({ note: e.target.value });\n    }\n  }, {\n    key: 'send_visit',\n    value: function send_visit() {\n      add_visit(this.state.start, (0, _moment2.default)(this.state.start).add(40, 'minutes'), 8, this.state.client.value);\n      this.props.hide();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var visit = this.props.visit;\n\n      if (!visit.start) return null;\n      return React.createElement(\n        'dialog',\n        { className: 'modal' },\n        React.createElement(\n          'header',\n          null,\n          React.createElement(\n            'h2',\n            null,\n            'Add / edit visit'\n          ),\n          React.createElement('button', { onClick: this.props.hide, className: 'close' })\n        ),\n        React.createElement(\n          'main',\n          null,\n          React.createElement(_reactSelect2.default, {\n            value: this.state.client.value,\n            onChange: this.select_client.bind(this),\n            options: this.state.clients }),\n          React.createElement(\n            'label',\n            null,\n            React.createElement('input', { type: 'number', min: 0, max: 23, value: this.state.start.format('HH'), defaultValue: visit.start.format('HH'), onChange: this.change_visit_hour.bind(this) }),\n            React.createElement('input', { type: 'number', min: 0, max: 59, value: this.state.start.format('mm'), defaultValue: visit.start.format('mm'), onChange: this.change_visit_minute.bind(this) })\n          ),\n          React.createElement(\n            'textarea',\n            { onChange: this.set_note.bind(this) },\n            this.state.note\n          ),\n          React.createElement(\n            'button',\n            { onClick: this.send_visit.bind(this) },\n            'Отправить'\n          )\n        )\n      );\n    }\n  }]);\n\n  return VisitModal;\n}(React.Component);\n\nvar Period = function (_React$Component5) {\n  _inherits(Period, _React$Component5);\n\n  function Period(props) {\n    _classCallCheck(this, Period);\n\n    return _possibleConstructorReturn(this, (Period.__proto__ || Object.getPrototypeOf(Period)).call(this, props));\n  }\n\n  _createClass(Period, [{\n    key: 'render',\n    value: function render() {\n      var visit = this.props.visit ? React.createElement(Visit, { visit: this.props.visit }) : null;\n      var height = this.props.dayend.diff(this.props.daystart);\n      var style = {\n        marginTop: this.props.start.diff(this.props.daystart) * 100 / height + '%',\n        height: this.props.end.diff(this.props.start) * 100 / height + '%'\n      };\n      return React.createElement(\n        'time',\n        { style: style, className: visit ? 'occupied' : 'free' },\n        visit\n      );\n    }\n  }]);\n\n  return Period;\n}(React.Component);\n\nfunction Visit(props) {\n  return React.createElement(\n    'div',\n    { className: 'visit' },\n    props.visit.client.name\n  );\n}\nfunction add_visit(start, end, bed_id, tz) {\n  _jquery2.default.ajax({\n    method: 'put',\n    url: '/krovati/_design/krovati-couch/_update/add_visit/' + tz,\n    data: {\n      start: start.toString(),\n      end: end.toString(),\n      bed: bed_id\n    }\n  }).then(function () {\n    load_bed_data(bed_id);\n  }).catch(function (err) {\n    return console.log(err);\n  });\n}\nfunction load_bed_data(bed_id) {\n  _jquery2.default.getJSON('/krovati/_design/krovati-couch/_list/by_bed_json/by_bed?key=[' + bed_id + ', ' + state.day.year() + ', ' + state.day.month() + ', ' + state.day.date() + ']').then(function (data) {\n    var index = state.beds.findIndex(function (bed) {\n      return bed.id == bed_id;\n    });\n    state.beds[index].visits = data;\n    state.revs[bed_id] = state.revs[bed_id] ? state.revs[bed_id] + 1 : 1;\n  }).catch(function (err) {\n    return console.log(err);\n  });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9kYXNoLmpzPzUzZjIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0UmVkdXggPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX3JlYWN0U2VsZWN0ID0gcmVxdWlyZSgncmVhY3Qtc2VsZWN0Jyk7XG5cbnZhciBfcmVhY3RTZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RTZWxlY3QpO1xuXG52YXIgX2pxdWVyeSA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG52YXIgX2pxdWVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qcXVlcnkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBEYXNoID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKERhc2gsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERhc2gocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGFzaCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGFzaC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERhc2gpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBjb25zb2xlLmxvZyhwcm9wcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERhc2gsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIC8vIGhlcmUgbG9hZCBkYXRhXG4gICAgICAvLyBubywgbm90IGhlcmVcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEYXksIG51bGwpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEYXNoO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBEYXNoO1xuXG52YXIgRGF5Q2xhc3MgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcbiAgX2luaGVyaXRzKERheUNsYXNzLCBfUmVhY3QkQ29tcG9uZW50Mik7XG5cbiAgZnVuY3Rpb24gRGF5Q2xhc3MocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF5Q2xhc3MpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEYXlDbGFzcy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERheUNsYXNzKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERheUNsYXNzLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBkYXlzdGFydCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh0aGlzLnByb3BzLmRheSkuYWRkKHRoaXMucHJvcHMuc3RhcnQsICdob3VycycpO1xuICAgICAgdmFyIGRheWVuZCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh0aGlzLnByb3BzLmRheSkuYWRkKHRoaXMucHJvcHMuZW5kLCAnaG91cnMnKTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc2VjdGlvbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiAnYmVkcycgfSxcbiAgICAgICAgdGhpcy5wcm9wcy5iZWRzLm1hcChmdW5jdGlvbiAoYmVkKSB7XG4gICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmVkLCB7IGJlZDogYmVkLCBkYXlzdGFydDogZGF5c3RhcnQsIGRheWVuZDogZGF5ZW5kIH0pO1xuICAgICAgICB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUaW1lU2VyaWVzLCB7IGR1cmF0aW9uOiBfbW9tZW50Mi5kZWZhdWx0LmR1cmF0aW9uKDEwLCAnbWludXRlcycpLCBkYXlzdGFydDogZGF5c3RhcnQsIGRheWVuZDogZGF5ZW5kIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEYXlDbGFzcztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIERheSA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgcmV0dXJuIHt9O1xufSkoRGF5Q2xhc3MpO1xuXG5mdW5jdGlvbiBUaW1lU2VyaWVzKHByb3BzKSB7XG4gIHZhciBwZXJpb2RzID0gcHJvcHMuZGF5ZW5kLmRpZmYocHJvcHMuZGF5c3RhcnQpIC8gcHJvcHMuZHVyYXRpb247XG4gIHZhciBjdXJyZW50ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHByb3BzLmRheXN0YXJ0KTtcbiAgdmFyIG91dCA9IFtdO1xuICB3aGlsZSAoY3VycmVudC5pc0JlZm9yZShwcm9wcy5kYXllbmQpKSB7XG4gICAgb3V0LnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICdsaScsXG4gICAgICBudWxsLFxuICAgICAgY3VycmVudC5mb3JtYXQoJ0hIOm1tJylcbiAgICApKTtcbiAgICBjdXJyZW50LmFkZChwcm9wcy5kdXJhdGlvbik7XG4gIH1cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ3NlY3Rpb24nLFxuICAgIHsgY2xhc3NOYW1lOiAndGltZXMnIH0sXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICdoZWFkZXInLFxuICAgICAgbnVsbCxcbiAgICAgICd0aW1lcydcbiAgICApLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAndWwnLFxuICAgICAgeyBjbGFzc05hbWU6ICdsaXN0JyB9LFxuICAgICAgb3V0XG4gICAgKVxuICApO1xufVxuXG52YXIgQmVkID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQzKSB7XG4gIF9pbmhlcml0cyhCZWQsIF9SZWFjdCRDb21wb25lbnQzKTtcblxuICBmdW5jdGlvbiBCZWQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmVkKTtcblxuICAgIHZhciBfdGhpczMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQmVkLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmVkKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMzLnN0YXRlID0ge1xuICAgICAgdmlzaXRzOiBbXSxcbiAgICAgIHZpc2l0OiB7fVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzMztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCZWQsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGxvYWRfYmVkX2RhdGEodGhpcy5wcm9wcy5iZWQuaWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgcmV0dXJuIHNoYWxsb3dDb21wYXJlKHRoaXMsIG5leHRQcm9wcywgbmV4dFN0YXRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGRWaXNpdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFZpc2l0KGUpIHtcbiAgICAgIHZhciBjbGlja3RpbWUgPSBwYXJzZUludCgoMCwgX21vbWVudDIuZGVmYXVsdCkodGhpcy5wcm9wcy5kYXllbmQpLmRpZmYodGhpcy5wcm9wcy5kYXlzdGFydCkgKiBlLmNsaWVudFkgLyBlLnRhcmdldC5jbGllbnRIZWlnaHQpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZpc2l0OiB7XG4gICAgICAgICAgc3RhcnQ6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh0aGlzLnByb3BzLmRheXN0YXJ0KS5hZGQoY2xpY2t0aW1lKSxcbiAgICAgICAgICBiZWQ6IHRoaXMucHJvcHMuYmVkLmlkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hpZGVfbW9kYWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlX21vZGFsKCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZpc2l0OiB7fSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzZWN0aW9uJyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdiZWQnIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2hlYWRlcicsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2gzJyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAn0JrRgNC+0LLQsNGC0LrQsCDihJYnICsgdGhpcy5wcm9wcy5iZWQuaWRcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdsaXN0Jywgb25DbGljazogdGhpcy5hZGRWaXNpdC5iaW5kKHRoaXMpIH0sXG4gICAgICAgICAgdGhpcy5zdGF0ZS52aXNpdHMubWFwKGZ1bmN0aW9uICh2aXNpdCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGVyaW9kLCBfZXh0ZW5kcyh7IHN0YXJ0OiAoMCwgX21vbWVudDIuZGVmYXVsdCkobmV3IERhdGUodmlzaXQudmlzaXQuc3RhcnQpKSwgZW5kOiAoMCwgX21vbWVudDIuZGVmYXVsdCkobmV3IERhdGUodmlzaXQudmlzaXQuZW5kKSksIHZpc2l0OiB2aXNpdCB9LCBfdGhpczQucHJvcHMpKTtcbiAgICAgICAgICB9KVxuICAgICAgICApLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2l0TW9kYWwsIHsgdmlzaXQ6IHRoaXMuc3RhdGUudmlzaXQsIGhpZGU6IHRoaXMuaGlkZV9tb2RhbC5iaW5kKHRoaXMpIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCZWQ7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBWaXNpdE1vZGFsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQ0KSB7XG4gIF9pbmhlcml0cyhWaXNpdE1vZGFsLCBfUmVhY3QkQ29tcG9uZW50NCk7XG5cbiAgZnVuY3Rpb24gVmlzaXRNb2RhbChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaXNpdE1vZGFsKTtcblxuICAgIHZhciBfdGhpczUgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVmlzaXRNb2RhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFZpc2l0TW9kYWwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpczUuc3RhdGUgPSB7XG4gICAgICBjbGllbnRzOiBbXSxcbiAgICAgIHN0YXJ0OiAoMCwgX21vbWVudDIuZGVmYXVsdCkoKSxcbiAgICAgIGNsaWVudDoge31cbiAgICB9O1xuICAgIHJldHVybiBfdGhpczU7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVmlzaXRNb2RhbCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0cHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdGFydDogKDAsIF9tb21lbnQyLmRlZmF1bHQpKG5leHRwcm9wcy52aXNpdC5zdGFydClcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgX2pxdWVyeTIuZGVmYXVsdC5nZXRKU09OKCcva3JvdmF0aS9fZGVzaWduL2tyb3ZhdGktY291Y2gvX2xpc3QvY2xpZW50c19qc29uL2NsaWVudHMnKS50aGVuKGZ1bmN0aW9uIChjbGllbnRzKSB7XG4gICAgICAgIHJldHVybiBfdGhpczYuc2V0U3RhdGUoeyBjbGllbnRzOiBjbGllbnRzIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2hhbmdlX3Zpc2l0X21pbnV0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZV92aXNpdF9taW51dGUoZXZ0KSB7XG4gICAgICAvLyBoZXJlIGNoZWNrIHRoZSB0aW1lIHRhYmxlXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3RhcnQ6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh0aGlzLnN0YXRlLnN0YXJ0KS5taW51dGUoZXZ0LnRhcmdldC52YWx1ZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NoYW5nZV92aXNpdF9ob3VyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlX3Zpc2l0X2hvdXIoZXZ0KSB7XG4gICAgICAvLyBoZXJlIGNoZWNrIHRoZSB0aW1lIHRhYmxlXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3RhcnQ6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh0aGlzLnN0YXRlLnN0YXJ0KS5ob3VyKGV2dC50YXJnZXQudmFsdWUpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZWxlY3RfY2xpZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0X2NsaWVudChjbGllbnQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjbGllbnQ6IGNsaWVudCB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRfbm90ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldF9ub3RlKGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBub3RlOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZW5kX3Zpc2l0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZF92aXNpdCgpIHtcbiAgICAgIGFkZF92aXNpdCh0aGlzLnN0YXRlLnN0YXJ0LCAoMCwgX21vbWVudDIuZGVmYXVsdCkodGhpcy5zdGF0ZS5zdGFydCkuYWRkKDQwLCAnbWludXRlcycpLCA4LCB0aGlzLnN0YXRlLmNsaWVudC52YWx1ZSk7XG4gICAgICB0aGlzLnByb3BzLmhpZGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgdmlzaXQgPSB0aGlzLnByb3BzLnZpc2l0O1xuXG4gICAgICBpZiAoIXZpc2l0LnN0YXJ0KSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGlhbG9nJyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdtb2RhbCcgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnaGVhZGVyJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnaDInLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICdBZGQgLyBlZGl0IHZpc2l0J1xuICAgICAgICAgICksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgeyBvbkNsaWNrOiB0aGlzLnByb3BzLmhpZGUsIGNsYXNzTmFtZTogJ2Nsb3NlJyB9KVxuICAgICAgICApLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdtYWluJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0U2VsZWN0Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5jbGllbnQudmFsdWUsXG4gICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5zZWxlY3RfY2xpZW50LmJpbmQodGhpcyksXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLnN0YXRlLmNsaWVudHMgfSksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICdudW1iZXInLCBtaW46IDAsIG1heDogMjMsIHZhbHVlOiB0aGlzLnN0YXRlLnN0YXJ0LmZvcm1hdCgnSEgnKSwgZGVmYXVsdFZhbHVlOiB2aXNpdC5zdGFydC5mb3JtYXQoJ0hIJyksIG9uQ2hhbmdlOiB0aGlzLmNoYW5nZV92aXNpdF9ob3VyLmJpbmQodGhpcykgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgdHlwZTogJ251bWJlcicsIG1pbjogMCwgbWF4OiA1OSwgdmFsdWU6IHRoaXMuc3RhdGUuc3RhcnQuZm9ybWF0KCdtbScpLCBkZWZhdWx0VmFsdWU6IHZpc2l0LnN0YXJ0LmZvcm1hdCgnbW0nKSwgb25DaGFuZ2U6IHRoaXMuY2hhbmdlX3Zpc2l0X21pbnV0ZS5iaW5kKHRoaXMpIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3RleHRhcmVhJyxcbiAgICAgICAgICAgIHsgb25DaGFuZ2U6IHRoaXMuc2V0X25vdGUuYmluZCh0aGlzKSB9LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ub3RlXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuc2VuZF92aXNpdC5iaW5kKHRoaXMpIH0sXG4gICAgICAgICAgICAn0J7RgtC/0YDQsNCy0LjRgtGMJ1xuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVmlzaXRNb2RhbDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIFBlcmlvZCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50NSkge1xuICBfaW5oZXJpdHMoUGVyaW9kLCBfUmVhY3QkQ29tcG9uZW50NSk7XG5cbiAgZnVuY3Rpb24gUGVyaW9kKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBlcmlvZCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBlcmlvZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBlcmlvZCkpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQZXJpb2QsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHZpc2l0ID0gdGhpcy5wcm9wcy52aXNpdCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaXQsIHsgdmlzaXQ6IHRoaXMucHJvcHMudmlzaXQgfSkgOiBudWxsO1xuICAgICAgdmFyIGhlaWdodCA9IHRoaXMucHJvcHMuZGF5ZW5kLmRpZmYodGhpcy5wcm9wcy5kYXlzdGFydCk7XG4gICAgICB2YXIgc3R5bGUgPSB7XG4gICAgICAgIG1hcmdpblRvcDogdGhpcy5wcm9wcy5zdGFydC5kaWZmKHRoaXMucHJvcHMuZGF5c3RhcnQpICogMTAwIC8gaGVpZ2h0ICsgJyUnLFxuICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuZW5kLmRpZmYodGhpcy5wcm9wcy5zdGFydCkgKiAxMDAgLyBoZWlnaHQgKyAnJSdcbiAgICAgIH07XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3RpbWUnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZSwgY2xhc3NOYW1lOiB2aXNpdCA/ICdvY2N1cGllZCcgOiAnZnJlZScgfSxcbiAgICAgICAgdmlzaXRcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBlcmlvZDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZnVuY3Rpb24gVmlzaXQocHJvcHMpIHtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgeyBjbGFzc05hbWU6ICd2aXNpdCcgfSxcbiAgICBwcm9wcy52aXNpdC5jbGllbnQubmFtZVxuICApO1xufVxuZnVuY3Rpb24gYWRkX3Zpc2l0KHN0YXJ0LCBlbmQsIGJlZF9pZCwgdHopIHtcbiAgX2pxdWVyeTIuZGVmYXVsdC5hamF4KHtcbiAgICBtZXRob2Q6ICdwdXQnLFxuICAgIHVybDogJy9rcm92YXRpL19kZXNpZ24va3JvdmF0aS1jb3VjaC9fdXBkYXRlL2FkZF92aXNpdC8nICsgdHosXG4gICAgZGF0YToge1xuICAgICAgc3RhcnQ6IHN0YXJ0LnRvU3RyaW5nKCksXG4gICAgICBlbmQ6IGVuZC50b1N0cmluZygpLFxuICAgICAgYmVkOiBiZWRfaWRcbiAgICB9XG4gIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGxvYWRfYmVkX2RhdGEoYmVkX2lkKTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGxvYWRfYmVkX2RhdGEoYmVkX2lkKSB7XG4gIF9qcXVlcnkyLmRlZmF1bHQuZ2V0SlNPTignL2tyb3ZhdGkvX2Rlc2lnbi9rcm92YXRpLWNvdWNoL19saXN0L2J5X2JlZF9qc29uL2J5X2JlZD9rZXk9WycgKyBiZWRfaWQgKyAnLCAnICsgc3RhdGUuZGF5LnllYXIoKSArICcsICcgKyBzdGF0ZS5kYXkubW9udGgoKSArICcsICcgKyBzdGF0ZS5kYXkuZGF0ZSgpICsgJ10nKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGluZGV4ID0gc3RhdGUuYmVkcy5maW5kSW5kZXgoZnVuY3Rpb24gKGJlZCkge1xuICAgICAgcmV0dXJuIGJlZC5pZCA9PSBiZWRfaWQ7XG4gICAgfSk7XG4gICAgc3RhdGUuYmVkc1tpbmRleF0udmlzaXRzID0gZGF0YTtcbiAgICBzdGF0ZS5yZXZzW2JlZF9pZF0gPSBzdGF0ZS5yZXZzW2JlZF9pZF0gPyBzdGF0ZS5yZXZzW2JlZF9pZF0gKyAxIDogMTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2pzL2Rhc2guanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }

})
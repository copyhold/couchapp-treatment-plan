webpackHotUpdate(0,{

/***/ 149:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function () {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? INIT : arguments[0];\n  var action = arguments[1];\n\n  var _ret = function () {\n    switch (action.type) {\n      case 'loaded visits':\n        var newstate = _extends({}, state);\n        var bedids = action.payload.map(function (visit) {\n          return visit.bed;\n        }).unique();\n        bedids.forEach(function (bedid) {\n          var ind = state.beds.findIndex(function (bed) {\n            return bed.id === bedid;\n          });\n          newstate.beds[ind].visits = [];\n        });\n\n        action.payload.forEach(function (visit) {\n          var ind = state.beds.findIndex(function (bed) {\n            return bed.id === visit.bed;\n          });\n          newstate.beds[ind].visits.push(visit);\n        });\n        return {\n          v: newstate\n        };\n    }\n  }();\n\n  if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  return state;\n};\n\nvar _moment = __webpack_require__(28);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar INIT = {\n  day: (0, _moment2.default)().startOf('day'),\n  start: 16,\n  end: 22,\n  revs: {},\n  beds: [{\n    id: 1\n  }, {\n    id: 2\n  }, {\n    id: 4\n  }, {\n    id: 8\n  }]\n};\n\n\nArray.prototype.unique = function () {\n  var o = {},\n      i,\n      l = this.length,\n      r = [];\n  for (i = 0; i < l; i += 1) {\n    o[this[i]] = this[i];\n  }for (i in o) {\n    r.push(o[i]);\n  }return r;\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlZHVjZXIuanM/NTQzMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IElOSVQgOiBhcmd1bWVudHNbMF07XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cbiAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnbG9hZGVkIHZpc2l0cyc6XG4gICAgICAgIHZhciBuZXdzdGF0ZSA9IF9leHRlbmRzKHt9LCBzdGF0ZSk7XG4gICAgICAgIHZhciBiZWRpZHMgPSBhY3Rpb24ucGF5bG9hZC5tYXAoZnVuY3Rpb24gKHZpc2l0KSB7XG4gICAgICAgICAgcmV0dXJuIHZpc2l0LmJlZDtcbiAgICAgICAgfSkudW5pcXVlKCk7XG4gICAgICAgIGJlZGlkcy5mb3JFYWNoKGZ1bmN0aW9uIChiZWRpZCkge1xuICAgICAgICAgIHZhciBpbmQgPSBzdGF0ZS5iZWRzLmZpbmRJbmRleChmdW5jdGlvbiAoYmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYmVkLmlkID09PSBiZWRpZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdzdGF0ZS5iZWRzW2luZF0udmlzaXRzID0gW107XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFjdGlvbi5wYXlsb2FkLmZvckVhY2goZnVuY3Rpb24gKHZpc2l0KSB7XG4gICAgICAgICAgdmFyIGluZCA9IHN0YXRlLmJlZHMuZmluZEluZGV4KGZ1bmN0aW9uIChiZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBiZWQuaWQgPT09IHZpc2l0LmJlZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdzdGF0ZS5iZWRzW2luZF0udmlzaXRzLnB1c2godmlzaXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2OiBuZXdzdGF0ZVxuICAgICAgICB9O1xuICAgIH1cbiAgfSgpO1xuXG4gIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcbiAgcmV0dXJuIHN0YXRlO1xufTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIElOSVQgPSB7XG4gIGRheTogKDAsIF9tb21lbnQyLmRlZmF1bHQpKCkuc3RhcnRPZignZGF5JyksXG4gIHN0YXJ0OiAxNixcbiAgZW5kOiAyMixcbiAgcmV2czoge30sXG4gIGJlZHM6IFt7XG4gICAgaWQ6IDFcbiAgfSwge1xuICAgIGlkOiAyXG4gIH0sIHtcbiAgICBpZDogNFxuICB9LCB7XG4gICAgaWQ6IDhcbiAgfV1cbn07XG5cblxuQXJyYXkucHJvdG90eXBlLnVuaXF1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG8gPSB7fSxcbiAgICAgIGksXG4gICAgICBsID0gdGhpcy5sZW5ndGgsXG4gICAgICByID0gW107XG4gIGZvciAoaSA9IDA7IGkgPCBsOyBpICs9IDEpIHtcbiAgICBvW3RoaXNbaV1dID0gdGhpc1tpXTtcbiAgfWZvciAoaSBpbiBvKSB7XG4gICAgci5wdXNoKG9baV0pO1xuICB9cmV0dXJuIHI7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvcmVkdWNlci5qc1xuICoqIG1vZHVsZSBpZCA9IDE0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }

})